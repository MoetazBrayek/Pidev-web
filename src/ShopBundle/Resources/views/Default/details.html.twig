{% extends "base.html.twig" %}
{% block content %}

    <style>
        .rating {
            display: inline-block;
            position: relative;
            height: 50px;
            line-height: 50px;
            font-size: 50px;
        }

        .rating label {
            line-height: 30px;
            font-size: 50px;
            position: absolute;
            top: 0;
            left: 0;
            cursor: pointer;
        }

        .rating label:last-child {
            position: static;
        }

        .rating label:nth-child(1) {
            z-index: 5;
        }

        .rating label:nth-child(2) {
            z-index: 4;
        }

        .rating label:nth-child(3) {
            z-index: 3;
        }

        .rating label:nth-child(4) {
            z-index: 2;
        }

        .rating label:nth-child(5) {
            z-index: 1;
        }

        .rating label input {
            position: absolute;
            top: 0;
            left: 0;
            opacity: 0;
        }

        .rating label .icon {
            float: left;
            color: transparent;
        }

        .rating label:last-child .icon {
            color: #777;
        }

        .rating:not(:hover) label input:checked ~ .icon,
        .rating:hover label:hover input ~ .icon {
            color: #fdc716;
        }

        .rating label input:focus:not(:checked) ~ .icon:last-child {
            color: #777;
            text-shadow: #fdc716;
        }
    </style>

    <!-- Breadcrumb Area -->
    <div class="tm-breadcrumb-area tm-padding-section bg-grey" data-bgimage="assets/images/breadcrumb-bg.jpg"
         data-white-overlay="2">
        <div class="container">
            <div class="tm-breadcrumb">
                <h2>Product Details</h2>
                <ul>
                    <li><a href="{{path('homepage')}}">Home</a></li>
                    <li><a href="{{ path('shop_homepage') }}">Shop</a></li>
                    <li>{{product.nom}}</li>
                </ul>
            </div>
        </div>
    </div>
    <!--// Breadcrumb Area -->


    <!-- Page Content -->
    <main class="page-content">

        <!-- Products Area -->
        <div class="tm-products-area tm-section tm-padding-section bg-white">
            <div class="container">
                <div class="row">
                    <div class="col-lg-9">
                        <!-- Product Details -->
                        <div class="tm-prodetails">
                            <div class="row">
                                <div class="col-lg-6 col-md-6 col-12">
                                    <div class="tm-prodetails-images">
                                        <div class="tm-prodetails-largeimages">
                                            <div class="tm-prodetails-largeimage">
                                                <a data-fancybox="tm-prodetails-imagegallery"
                                                   href="{{ asset('shopImg/' ~ product.imageId) }}"
                                                   data-caption="Product Zoom Image 1">
                                                    <img src="{{ asset('shopImg/' ~ product.imageId) }}"
                                                         alt="product image">
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-lg-6 col-md-6 col-12">
                                    <div class="tm-prodetails-content">
                                        <h4 class="tm-prodetails-title">{{product.nom}}</h4>
                                        {% if rating|number_format(0, '.', ',') == 0 %}
                                            <div class="tm-ratingbox">
                                                <span><i class="ion-android-star"></i></span>
                                                <span><i class="ion-android-star"></i></span>
                                                <span><i class="ion-android-star"></i></span>
                                                <span><i class="ion-android-star"></i></span>
                                                <span><i class="ion-android-star"></i></span>
                                            </div>
                                        {% endif %}
                                        {% if rating|number_format(0, '.', ',') == 1 %}
                                            <div class="tm-ratingbox">
                                                <span class="is-active"><i class="ion-android-star"></i></span>
                                                <span><i class="ion-android-star"></i></span>
                                                <span><i class="ion-android-star"></i></span>
                                                <span><i class="ion-android-star"></i></span>
                                                <span><i class="ion-android-star"></i></span>
                                            </div>
                                        {% endif %}
                                        {% if rating|number_format(0, '.', ',') == 2 %}
                                            <div class="tm-ratingbox">
                                                <span class="is-active"><i class="ion-android-star"></i></span>
                                                <span class="is-active"><i class="ion-android-star"></i></span>
                                                <span><i class="ion-android-star"></i></span>
                                                <span><i class="ion-android-star"></i></span>
                                                <span><i class="ion-android-star"></i></span>
                                            </div>
                                        {% endif %}
                                        {% if rating|number_format(0, '.', ',') == 3 %}
                                            <div class="tm-ratingbox">
                                                <span class="is-active"><i class="ion-android-star"></i></span>
                                                <span class="is-active"><i class="ion-android-star"></i></span>
                                                <span class="is-active"><i class="ion-android-star"></i></span>
                                                <span><i class="ion-android-star"></i></span>
                                                <span><i class="ion-android-star"></i></span>
                                            </div>
                                        {% endif %}
                                        {% if rating|number_format(0, '.', ',') == 4 %}
                                            <div class="tm-ratingbox">
                                                <span class="is-active"><i class="ion-android-star"></i></span>
                                                <span class="is-active"><i class="ion-android-star"></i></span>
                                                <span class="is-active"><i class="ion-android-star"></i></span>
                                                <span class="is-active"><i class="ion-android-star"></i></span>
                                                <span><i class="ion-android-star"></i></span>
                                            </div>
                                        {% endif %}
                                        {% if rating|number_format(0, '.', ',') == 5 %}
                                            <div class="tm-ratingbox">
                                                <span class="is-active"><i class="ion-android-star"></i></span>
                                                <span class="is-active"><i class="ion-android-star"></i></span>
                                                <span class="is-active"><i class="ion-android-star"></i></span>
                                                <span class="is-active"><i class="ion-android-star"></i></span>
                                                <span class="is-active"><i class="ion-android-star"></i></span>
                                            </div>
                                        {% endif %}

                                        <div class="tm-prodetails-price">
                                            <span>${{product.prix}}</span>
                                        </div>
                                        <ul class="tm-prodetails-infos">

                                            <li>Product ID: {{product.id}}</li>
                                            {% if product.quantity > 0 %}
                                            <li>Available: <span class="color-theme">In stock</span></li>
                                            {% else %}
                                            <li>Available: <span class="color-theme" style="color: red">Out of stock</span></li>
                                            {% endif %}
                                        </ul>
                                        <div class="tm-prodetails-paras">
                                            <p>{{product.description}}</p>
                                        </div>
                                        <form method="post" action="{{ path('shop_addtopanier',{id:product.id}) }}">
                                        <div class="tm-prodetails-quantitycart">
                                            <div class="row">
                                                <div class="col-4">
                                                        <input name="quantity" title="Qty" class="form-control" max="{{product.quantity}}" min="0" value="0" type="number">
                                                </div>
                                                {% if app.user %}
                                                    <button type="submit" class="tm-button tm-button-dark">Add To Cart</button>
                                                {% else %}
                                                    <a href="{{ path('fos_user_security_login') }}">Log In / Register</a>

                                                {% endif %}
                                            </div>

                                        </div>
                                        </form>
                                        <div class="tm-prodetails-share">
                                            <h6>Share :</h6>
                                            <ul>
                                                <li><a href="#"><i class="ion-social-facebook"></i></a></li>
                                                <li><a href="#"><i class="ion-social-instagram-outline"></i></a>
                                                </li>
                                                <li><a href="#"><i class="ion-social-skype-outline"></i></a></li>
                                                <li><a href="#"><i class="ion-social-pinterest-outline"></i></a>
                                                </li>
                                            </ul>
                                    </div>
                                </div>
                                </div>
                            </div>
                        </div>
                        <!--// Product Details -->

                        <!-- Product Details Description & Review -->
                        <div class="tm-prodetails-desreview tm-padding-section-sm-top">
                            <ul class="nav tm-tabgroup2" id="prodetails" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link active" id="prodetails-area1-tab" data-toggle="tab"
                                       href="#prodetails-area1" role="tab" aria-controls="prodetails-area1"
                                       aria-selected="true">Description</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="prodetails-area2-tab" data-toggle="tab"
                                       href="#prodetails-area2" role="tab" aria-controls="prodetails-area2"
                                       aria-selected="false">Reviews
                                        ({{rev}})</a>
                                </li>
                            </ul>
                            <div class="tab-content" id="prodetails-content">
                                <div class="tab-pane fade show active" id="prodetails-area1" role="tabpanel"
                                     aria-labelledby="prodetails-area1-tab">
                                    <div class="tm-prodetails-description">
                                        <h6>Product Description</h6>
                                        <p>{{product.description}}.</p>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="prodetails-area2" role="tabpanel"
                                     aria-labelledby="prodetails-area2-tab">

                                    <div class="tm-prodetails-review">
                                        <h6>Add a review</h6>
                                        <form method="post" class="tm-form">
                                            <div class="tm-form-inner">
                                                <div class="tm-form-field">

                                                    <div class="rating">
                                                        <label>
                                                            <input type="radio" name="stars" value="1" />
                                                            <span class="icon">★</span>
                                                        </label>
                                                        <label>
                                                            <input type="radio" name="stars" value="2" />
                                                            <span class="icon">★</span>
                                                            <span class="icon">★</span>
                                                        </label>
                                                        <label>
                                                            <input type="radio" name="stars" value="3" />
                                                            <span class="icon">★</span>
                                                            <span class="icon">★</span>
                                                            <span class="icon">★</span>
                                                        </label>
                                                        <label>
                                                            <input type="radio" name="stars" value="4" />
                                                            <span class="icon">★</span>
                                                            <span class="icon">★</span>
                                                            <span class="icon">★</span>
                                                            <span class="icon">★</span>
                                                        </label>
                                                        <label>
                                                            <input type="radio" name="stars" value="5" />
                                                            <span class="icon">★</span>
                                                            <span class="icon">★</span>
                                                            <span class="icon">★</span>
                                                            <span class="icon">★</span>
                                                            <span class="icon">★</span>
                                                        </label>
                                                    </div>

                                                </div>
                                                <div class="tm-form-field tm-form-fieldhalf">
                                                    <input type="text" name="title" placeholder="title*" required="required">
                                                </div>
                                                <div class="tm-form-field">
                                                        <textarea name="description" cols="30" rows="5"
                                                                  placeholder="Your Review"></textarea>
                                                </div>
                                                <div class="tm-form-field">
                                                    <button type="submit" class="tm-button">Submit</button>
                                                </div>
                                            </div>
                                        </form>

                                        <h6>{{rev}} Review For {{product.nom}}</h6>
                                        <div class="tm-comment-wrapper mb-30">
                                            <!-- Comment Single -->
                                            {% for r in reviews %}
                                            <div class="tm-comment">
                                                <div class="tm-comment-thumb">
                                                    <img src="{{ asset('usersPictures/' ~ r.user.imageId) }}" alt="author image">
                                                </div>
                                                <div class="tm-comment-content">



                                                    <h6 class="tm-comment-authorname"><a href="#">{{r.user.username}}</a>
                                                    </h6>
                                                    <span class="tm-comment-date">{{ r.date|date("F jS \\a\\t g:ia") }}</span>
                                                    {% if r.stars|number_format(0, '.', ',') == 0 %}
                                                        <div class="tm-ratingbox">
                                                            <span><i class="ion-android-star"></i></span>
                                                            <span><i class="ion-android-star"></i></span>
                                                            <span><i class="ion-android-star"></i></span>
                                                            <span><i class="ion-android-star"></i></span>
                                                            <span><i class="ion-android-star"></i></span>
                                                        </div>
                                                    {% endif %}
                                                    {% if r.stars|number_format(0, '.', ',') == 1 %}
                                                        <div class="tm-ratingbox">
                                                            <span class="is-active"><i class="ion-android-star"></i></span>
                                                            <span><i class="ion-android-star"></i></span>
                                                            <span><i class="ion-android-star"></i></span>
                                                            <span><i class="ion-android-star"></i></span>
                                                            <span><i class="ion-android-star"></i></span>
                                                        </div>
                                                    {% endif %}
                                                    {% if r.stars|number_format(0, '.', ',') == 2 %}
                                                        <div class="tm-ratingbox">
                                                            <span class="is-active"><i class="ion-android-star"></i></span>
                                                            <span class="is-active"><i class="ion-android-star"></i></span>
                                                            <span><i class="ion-android-star"></i></span>
                                                            <span><i class="ion-android-star"></i></span>
                                                            <span><i class="ion-android-star"></i></span>
                                                        </div>
                                                    {% endif %}
                                                    {% if r.stars|number_format(0, '.', ',') == 3 %}
                                                        <div class="tm-ratingbox">
                                                            <span class="is-active"><i class="ion-android-star"></i></span>
                                                            <span class="is-active"><i class="ion-android-star"></i></span>
                                                            <span class="is-active"><i class="ion-android-star"></i></span>
                                                            <span><i class="ion-android-star"></i></span>
                                                            <span><i class="ion-android-star"></i></span>
                                                        </div>
                                                    {% endif %}
                                                    {% if r.stars|number_format(0, '.', ',') == 4 %}
                                                        <div class="tm-ratingbox">
                                                            <span class="is-active"><i class="ion-android-star"></i></span>
                                                            <span class="is-active"><i class="ion-android-star"></i></span>
                                                            <span class="is-active"><i class="ion-android-star"></i></span>
                                                            <span class="is-active"><i class="ion-android-star"></i></span>
                                                            <span><i class="ion-android-star"></i></span>
                                                        </div>
                                                    {% endif %}
                                                    {% if r.stars|number_format(0, '.', ',') == 5 %}
                                                        <div class="tm-ratingbox">
                                                            <span class="is-active"><i class="ion-android-star"></i></span>
                                                            <span class="is-active"><i class="ion-android-star"></i></span>
                                                            <span class="is-active"><i class="ion-android-star"></i></span>
                                                            <span class="is-active"><i class="ion-android-star"></i></span>
                                                            <span class="is-active"><i class="ion-android-star"></i></span>
                                                        </div>
                                                    {% endif %}
                                                    <p>{{r.description}}.</p>

                                                </div>
                                            </div>
                                            {% endfor %}
                                            <!--// Comment Single -->
                                        </div>



                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--// Product Details Description & Review -->

                        <!-- Similliar Products -->

                        <!--// Similliar Products -->

                    </div>
                    <div class="col-lg-3">
                        <div class="widgets widgets-shop">

                            <!-- Single Widget -->
                            <div class="single-widget widget-categories">
                                <h6 class="widget-title">Categories</h6>
                                <ul>
                                    <li><a href="shop.html">Fishing accessories</a></li>
                                    <li><a href="shop.html">Fishing competitions</a></li>
                                    <li><a href="shop.html">Fishing boats</a></li>
                                    <li><a href="shop.html">Fishing equipments</a></li>
                                    <li><a href="shop.html">Fishing guidence</a></li>
                                    <li><a href="shop.html">Fishing tour</a></li>
                                    <li><a href="shop.html">Fishing deal</a></li>
                                </ul>
                            </div>
                            <!--// Single Widget -->

                            <!-- Single Widget -->
                            <div class="single-widget widget-pricefilter">
                                <h6 class="widget-title">Filter by Price</h6>
                                <div class="widget-pricefilter-inner">
                                    <div class="tm-rangeslider" data-range_min="0" data-range_max="800"
                                         data-cur_min="200" data-cur_max="550">
                                        <div class="tm-rangeslider-bar nst-animating"></div>
                                        <span class="tm-rangeslider-leftgrip nst-animating" tabindex="0"></span>
                                        <span class="tm-rangeslider-rightgrip nst-animating" tabindex="0"></span>
                                    </div>
                                    <div class="widget-pricefilter-actions">
                                        <p class="widget-pricefilter-price">Price: $<span
                                                    class="tm-rangeslider-leftlabel">308</span>
                                            - $<span class="tm-rangeslider-rightlabel">798</span></p>
                                        <button class="widget-pricefilter-button">Filter</button>
                                    </div>
                                </div>
                            </div>

                            <!--// Single Widget -->

                            <!-- Single Widget -->

                            <!--// Single Widget -->

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--// Products Area -->

        <!-- Newsletter Area -->
        <div class="tm-newsletter-area tm-section tm-padding-section bg-pattern">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-xl-3 col-12">
                        <h4 class="tm-newsletter-title">Subscribe Newsletter</h4>
                    </div>
                    <div class="col-xl-6 col-lg-8 col-md-7 col-12">
                        <form id="tm-mailchimp-form" class="tm-newsletter-form">
                            <input id="mc-email" type="email" placeholder="Email address...">
                            <button id="mc-submit" type="submit" class="tm-button">Subscribe</button>
                        </form>
                        <!-- Mailchimp Alerts -->
                        <div class="tm-mailchimp-alerts">
                            <div class="tm-mailchimp-submitting"></div>
                            <div class="mailchimp-success"></div>
                            <div class="tm-mailchimp-error"></div>
                        </div>
                        <!--// Mailchimp Alerts -->
                    </div>
                    <div class="col-xl-3 col-lg-4 col-md-5 col-12">
                        <div class="tm-newsletter-call">
                            <p>Call Any Question?</p>
                            <h3><a href="tel:+18009156270">1-800-915-6270</a></h3>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--// Newsletter Area -->

    </main>
    <!--// Page Content -->


{% endblock %}